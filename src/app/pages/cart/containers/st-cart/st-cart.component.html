<ng-container *ngIf="cart$ | async as cart">
  <ng-container *ngIf="entries$ | async as entries">
    <div *ngIf="cart?.totalItems" class="cart-details-wrapper">
      <cx-promotions
        [promotions]="(cart.appliedOrderPromotions || []).concat(cart.potentialOrderPromotions || [])">
      </cx-promotions>

      <st-cart-actions [cart$]="cart$"></st-cart-actions>

      <st-cart-items
        [items]="entries"
        [cartIsLoading]="!(cartLoaded$ | async)"
        [promotionLocation]="promotionLocation"
        [options]="{
          isSaveForLater: false,
          optionalBtn: saveForLaterBtn
        }"
      ></st-cart-items>
    </div>
  </ng-container>
</ng-container>

<st-cart-actions [cart$]="cart$"></st-cart-actions>

<ng-template let-ctx #saveForLaterBtn>
  <div *ngIf="selectiveCartEnabled" class="col-md-3 col-lg-3 col-xl-3 cx-sfl-btn">
    <button
      class="link cx-action-link"
      [disabled]="ctx.loading"
      (click)="saveForLater(ctx.item)"
      type="button"
    >
      {{ 'saveForLaterItems.saveForLater' | cxTranslate }}
    </button>
  </div>
</ng-template>
